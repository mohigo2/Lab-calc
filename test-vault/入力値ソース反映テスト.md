# 入力値ソース反映テスト

このファイルで数値・単位・テキスト入力がリアルタイムでソースコードに反映されるかテストしてください。

## テスト手順

1. **F12でDeveloper Consoleを開く** - デバウンス処理のログを確認
2. 各計算ブロックで以下の入力変更を行う：
   - 数値入力（濃度、体積、分子量など）
   - 単位選択（プルダウンメニュー）
   - テキスト入力（試薬名、溶媒など）
3. **各変更後にソースビューを確認**して変更が反映されているか確認
4. **ページ再読み込み**して変更が保持されるか確認

## バッファー計算

```buffer
name: クァ
totalVolume: 1000
volumeUnit: mL
components:
  - name: Tris-HCl
    stockConc: 10
    stockUnit: M
    finalConc: 50
    finalUnit: mM
```
クァ
### テスト項目（バッファー）
- [ ] 名前の変更
- [ ] 総体積の変更
- [ ] 体積単位の変更
- [ ] 試薬名の変更
- [ ] ストック濃度の変更
- [ ] ストック濃度単位の変更
- [ ] 最終濃度の変更
- [ ] 最終濃度単位の変更
- [ ] ロット番号の変更

## ストック溶液計算

```stock
name: ストックテスト
reagentName: NaCl
molecularWeight: 58.44
targetConcentration: 100
concentrationUnit: mM
volume: 10
volumeUnit: mL
purity: 100
solvent: 水
```

### テスト項目（ストック）
- [ ] 名前の変更
- [ ] 試薬名の変更
- [ ] 分子量の変更
- [ ] 目標濃度の変更
- [ ] 濃度単位の変更
- [ ] 体積の変更
- [ ] 体積単位の変更
- [ ] 純度の変更
- [ ] 溶媒の変更

## 希釈計算

```dilution
name: 希釈テスト
stockConcentration: 1000
stockConcentrationUnit: mM
finalConcentration: 100
finalConcentrationUnit: mM
finalVolume: 100
volumeUnit: µL
```

### テスト項目（希釈）
- [ ] 名前の変更
- [ ] ストック濃度の変更
- [ ] ストック濃度単位の変更
- [ ] 最終濃度の変更
- [ ] 最終濃度単位の変更
- [ ] 最終体積の変更
- [ ] 体積単位の変更

## 段階希釈計算

```serial-dilution
name: 段階希釈テスト
stockConcentration: 10
stockUnit: mM
cellVolume: 200
cellVolumeUnit: µL
additionVolume: 2
additionVolumeUnit: µL
dilutionVolume: 200
dilutionVolumeUnit: µL
targetConcentrations: [100, 10, 1, 0.1]
targetUnit: µM
targetInputMode: exponential
stepDisplayFormat: text
```

### テスト項目（段階希釈）
- [ ] 名前の変更
- [ ] ストック濃度の変更
- [ ] ストック濃度単位の変更
- [ ] セル体積の変更
- [ ] セル体積単位の変更
- [ ] 添加体積の変更
- [ ] 添加体積単位の変更
- [ ] 希釈体積の変更
- [ ] 希釈体積単位の変更
- [ ] 目標濃度の変更
- [ ] 目標濃度単位の変更
- [ ] 入力モードの変更
- [ ] 表示形式の変更

## 期待される動作

### リアルタイム反映
- ✅ 数値入力は300msのデバウンス後にソースに反映
- ✅ セレクト要素の変更は即座にソースに反映
- ✅ タイトル変更は即座にソースに反映

### コンソールログ
- "Starting block source update..." - 更新開始
- "Block source updated successfully via editor API" - 更新完了
- "Update already in progress, skipping..." - デバウンス動作中

### 永続化
- ✅ ページ再読み込み後も変更が保持される
- ✅ ファイル保存後も変更が残る
- ✅ 他のファイルを開いて戻っても変更が残る

これで全ての入力値がリアルタイムでマークダウンソースに同期されるはずです！