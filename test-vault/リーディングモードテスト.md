# リーディングモード vs ライブプレビューモード テスト

このファイルでリーディングモードでの編集機能無効化をテストしてください。

## テスト用計算ブロック

### バッファー計算
```buffer
name: モードテスト用バッファー
totalVolume: 1000
volumeUnit: mL
components:
  - name: Tris-HCl
    stockConc: 1
    stockUnit: M
    finalConc: 50
    finalUnit: mM
```

### ストック溶液計算
```stock
name: モードテスト用ストック
reagentName: NaCl
molecularWeight: 58.44
targetConcentration: 100
concentrationUnit: mM
volume: 10
volumeUnit: mL
```

### 希釈計算
```dilution
name: モードテスト用希釈
stockConcentration: 1000
stockConcentrationUnit: mM
finalConcentration: 100
finalConcentrationUnit: mM
finalVolume: 100
volumeUnit: µL
```

### 段階希釈計算
```serial-dilution
name: モードテスト用段階希釈
stockConcentration: 10
stockUnit: mM
cellVolume: 200
cellVolumeUnit: µL
additionVolume: 2
additionVolumeUnit: µL
dilutionVolume: 200
dilutionVolumeUnit: µL
targetConcentrations: [100, 10, 1, 0.1]
targetUnit: µM
targetInputMode: exponential
stepDisplayFormat: text
```

## テスト手順

### 1. リーディングモードテスト
1. **リーディングモードに切り替え** (右上のボタンまたはCtrl+E)
2. **F12でDeveloper Consoleを開く**
3. 各計算ブロックのタイトルを確認：
   - ✅ タイトルの右に🔒アイコンが表示される
   - ✅ タイトルをクリックしても編集モードにならない
   - ✅ "リーディングモードでは編集できません"のツールチップが表示される
4. Consoleで以下のログを確認：
   - "Current view mode: preview"
   - "Preview mode detected, has editor: false"  
   - "Reading mode detected - not editable"

### 2. ライブプレビューモードテスト
1. **ライブプレビューモードに切り替え** (右上のボタンまたはCtrl+E → Ctrl+E)
2. 各計算ブロックのタイトルを確認：
   - ✅ 通常の編集可能なタイトル（🔒アイコンなし）
   - ✅ タイトルクリックで編集モードになる
   - ✅ 名前変更がソースに反映される
3. Consoleで以下のログを確認：
   - "Current view mode: preview"
   - "Preview mode detected, has editor: true"
   - "Live preview mode detected - editable"

### 3. ソースモードテスト
1. **ソースモードに切り替え** 
2. 編集可能な状態であることを確認
3. Consoleで以下のログを確認：
   - "Current view mode: source"
   - "Source mode detected - editable"

## 期待される動作

### リーディングモード
- 🔒 タイトルに読み取り専用インジケーター表示
- 🚫 編集機能完全無効化
- 📋 読み取り専用スタイル適用
- ⚠️ 編集試行時の適切なフィードバック

### ライブプレビュー/ソースモード  
- ✏️ 通常の編集機能利用可能
- 💾 変更のソース反映
- 🔄 リアルタイム更新

これにより、ユーザーの混乱を防ぎ、モードに応じた適切なUXを提供します。